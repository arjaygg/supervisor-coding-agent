# Production Environment Configuration
# Optimized for security, performance, and reliability

# Application Settings
APP_DEBUG=false
LOG_LEVEL=INFO
APP_HOST=0.0.0.0
APP_PORT=8000

# Database Configuration
DATABASE_URL=postgresql://supervisor:${DATABASE_PASSWORD}@postgres:5432/supervisor_agent

# Redis Configuration
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# Celery Configuration
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0
WORKER_CONCURRENCY=4
BATCH_SIZE=10
BATCH_INTERVAL_SECONDS=60
MAX_RETRIES=3

# Claude Configuration
CLAUDE_API_KEYS=${CLAUDE_API_KEYS}
CLAUDE_QUOTA_LIMIT_PER_AGENT=1000
CLAUDE_QUOTA_RESET_HOURS=24

# Security (production-grade)
SECRET_KEY=${SECRET_KEY}
CORS_ORIGINS=https://dev-assist.example.com
ALLOWED_HOSTS=dev-assist.example.com,api.dev-assist.example.com

# Notifications (production channels)
SLACK_BOT_TOKEN=${SLACK_BOT_TOKEN}
SLACK_CHANNEL=#production-alerts
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USERNAME=${EMAIL_USERNAME}
EMAIL_PASSWORD=${EMAIL_PASSWORD}
EMAIL_FROM=${EMAIL_FROM}
EMAIL_TO=${EMAIL_TO}

# Production Features (security-focused)
ENABLE_DEBUG_TOOLBAR=false
ENABLE_PROFILING=false
AUTO_RELOAD=false
MOCK_EXTERNAL_SERVICES=false

# Secrets Management
SECRETS_PROVIDER=google_secret_manager
SECRETS_CACHE_TTL=600
SECRETS_AUDIT_LOGGING=true

# Static Analysis
ENABLE_STATIC_ANALYSIS=true
SCC_ENABLED=true
SEMGREP_ENABLED=true

# Database Settings (production-optimized)
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_ECHO=false
DB_CONNECTION_TIMEOUT=30
DB_STATEMENT_TIMEOUT=60

# Frontend
FRONTEND_DEV_SERVER=false
VITE_API_URL=https://api.dev-assist.example.com
VITE_WS_URL=wss://api.dev-assist.example.com

# Performance Settings (production-optimized)
REQUEST_TIMEOUT=60
WEBSOCKET_TIMEOUT=300
HEALTH_CHECK_INTERVAL=15
CONNECTION_POOL_SIZE=50

# Monitoring (comprehensive)
ENABLE_METRICS=true
ENABLE_TRACING=true
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
ALERTMANAGER_ENABLED=true

# SSL/TLS (strict)
SSL_VERIFY=true
SSL_CERT_PATH=/etc/letsencrypt/live/dev-assist.example.com
SSL_KEY_PATH=/etc/letsencrypt/live/dev-assist.example.com
HSTS_MAX_AGE=31536000
SSL_CIPHERS=ECDHE+AESGCM:ECDHE+CHACHA20:DHE+AESGCM:DHE+CHACHA20:!aNULL:!MD5:!DSS

# Backup Settings (production-grade)
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 1 * * *  # Daily at 1 AM
BACKUP_ENCRYPTION=true
BACKUP_COMPRESSION=true
BACKUP_VERIFICATION=true

# Rate Limiting (strict)
RATE_LIMIT_ENABLED=true
API_RATE_LIMIT=1000/hour
LOGIN_RATE_LIMIT=10/hour
GLOBAL_RATE_LIMIT=10000/hour

# Resource Limits (production)
MAX_UPLOAD_SIZE=100MB
MAX_REQUEST_SIZE=200MB
MAX_WORKERS=20
MAX_CONNECTIONS=1000

# Cache Settings (optimized)
CACHE_TTL=7200
CACHE_MAX_SIZE=10000
REDIS_CACHE_TTL=3600

# Security Headers
SECURITY_HEADERS_ENABLED=true
CSP_ENABLED=true
CSRF_PROTECTION=true
XSS_PROTECTION=true

# Compliance and Auditing
AUDIT_LOGGING=true
COMPLIANCE_MODE=GDPR,SOC2
DATA_RETENTION_DAYS=2555  # 7 years
ACCESS_LOGGING=true
SECURITY_SCANNING=true

# High Availability
HEALTH_CHECK_GRACE_PERIOD=30
READINESS_PROBE_ENABLED=true
LIVENESS_PROBE_ENABLED=true
CIRCUIT_BREAKER_ENABLED=true

# Disaster Recovery
BACKUP_REPLICATION=true
CROSS_REGION_BACKUP=true
DISASTER_RECOVERY_TESTING=true

# Performance Optimization
GZIP_COMPRESSION=true
STATIC_FILE_CACHING=true
CDN_ENABLED=true
IMAGE_OPTIMIZATION=true

# Container Settings
CONTAINER_MEMORY_LIMIT=2G
CONTAINER_CPU_LIMIT=2
CONTAINER_RESTART_POLICY=unless-stopped

# Networking
NETWORK_TIMEOUT=30
DNS_TIMEOUT=5
TCP_KEEPALIVE=true

# Logging (production-grade)
LOG_ROTATION=true
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10
STRUCTURED_LOGGING=true
LOG_SANITIZATION=true

# Feature Flags (production)
FEATURE_FLAGS_ENABLED=true
A_B_TESTING_ENABLED=false
EXPERIMENTAL_FEATURES=false

# External Services
EXTERNAL_API_TIMEOUT=30
EXTERNAL_API_RETRIES=3
EXTERNAL_API_CIRCUIT_BREAKER=true

# Monitoring Thresholds
CPU_ALERT_THRESHOLD=80
MEMORY_ALERT_THRESHOLD=85
DISK_ALERT_THRESHOLD=90
ERROR_RATE_THRESHOLD=5
RESPONSE_TIME_THRESHOLD=1000

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System under maintenance"
GRACEFUL_SHUTDOWN_TIMEOUT=30